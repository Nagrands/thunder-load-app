@use "sass:map";
@use "sass:color";
// src/scss/abstracts/_variables.scss

// Breakpoints
$breakpoint-mobile: 668px;
$breakpoint-tablet: 1280px;

$modal-padding: 15px;
$modal-border-radius: 18px;
$modal-max-width: 600px;
$animation-duration: 0.1s;

// Spacing & Border Radius
$spacing-small: 8px;
$spacing-medium: 16px;
$spacing-large: 24px;
$border-radius: 24px;

// Transitions
$transition-duration: 0.2s;

// Color Palettes
$themes: (
  dark: (
    // Основные цвета для темного режима
    color-accent: #52aeff,
    color-bg-log: #121212,
    color-bg-main: #262729,
    color-bg-secondary: #1f1f1de5,
    color-border: #262729,
    menu-item-active: linear-gradient(180deg, #007aff, #005bb5),
    menu-item-hover: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.6),
        rgba(255, 255, 255, 0.1)
      ),
    color-disabled: #5a5f6b,
    color-highlight: #d7d7d7,
    color-history-scroll: #323842,
    color-hover: #ffffff0d,
    color-icon-links: #8a79ff,
    color-progress-bar: #0a84ff,
    color-progress-bg: rgba(30, 34, 42, 0.7),
    color-quality: rgba(200, 200, 200, 0.4),
    color-toast-bg: #2b2b2b,
    color-toast-error: #ff3b30,
    color-toast-success: #32d74b,
    color-toast-text: #ffffff,
    color-toast-warning: #ffcc00,
    color-url-bg: rgba(30, 33, 36, 0.4),
    color-url-border: #444b5c,
    color-url-link: #4dabf7,
    color-url-text: #c9c9c9,
    button-cancel: linear-gradient(180deg, #b33434, #2a2f3d),
    button-color: #aad4ff,
    button-default: linear-gradient(180deg, rgba(30, 144, 255, 0.62), #23262c),
    button-disabled-bg: #4a4a4a80,
    button-disabled: #dddddd,
    button-download: linear-gradient(180deg, #3f73a7, #0f3f82),
    button-enabled: #dddddd,
    button-open-folder: linear-gradient(180deg, #b04c4c, #282c34),
    button-open-history: linear-gradient(180deg, #30d158, #282c34),
    button-openlast-video: linear-gradient(180deg, #0a84ff, #282c34),
    sidebar-background: #121212cc,
    sidebar-color: #e0e0e0,
    sidebar-list-color: #ffffff20,
    color-text-main: #dedede,
    color-youtube: #ce1312,
    color-twitch: #9e60fc,
    color-vkvideo: #0077ff,
    color-coub: #37a8ff,
    badge-size-bg: rgba(255, 255, 255, 0.06),
    badge-size-border: rgba(255, 255, 255, 0.14),
    color-delete: rgba(255, 80, 80, 0.06),
  ),
  light: (
    // Enhanced light theme with a modern, accessible palette
    color-accent: #2dd4bf, // Vibrant teal for primary accents
    color-bg-log: #f8fafc, // Softer off-white for logs
    color-bg-main: #ffffff, // Clean white main background
    color-bg-secondary: #f1f5f9, // Light gray for cards/panels
    color-border: #d1d5db, // Softer gray borders for better contrast
    color-disabled: #9ca3af, // Neutral gray for disabled elements
    color-highlight: #1e293b, // Dark slate for highlights
    color-history-scroll: rgba(0, 0, 0, 0.08), // Subtle scroll background
    color-hover: rgba(45, 212, 191, 0.1), // Teal-based hover effect
    color-icon-links: #2dd4bf, // Consistent teal for icons/links
    color-progress-bar: #2dd4bf, // Teal progress bar
    color-progress-bg: rgba(0, 0, 0, 0.04), // Subtle progress background
    color-quality: #4b5563, // Muted gray for quality indicators
    color-toast-bg: #ffffff, // White toast background
    color-toast-error: #ef4444, // Vibrant red for errors
    color-toast-success: #22c55e, // Green for success
    color-toast-text: #1f2a44, // Darker text for readability
    color-toast-warning: #f59e0b, // Amber for warnings
    color-url-bg: #f8fafc, // Light background for URLs
    color-url-border: #d1d5db, // Matching border
    color-url-link: #2dd4bf, // Teal links
    color-url-text: #1f2a44, // Darker text for URLs
    button-cancel: linear-gradient(180deg, #f87171, #fecaca), // Softer red gradient
    button-color: #1f2a44, // Dark text for buttons
    button-default: linear-gradient(180deg, #ffffff, #e5e7eb), // Subtle white-gray
    button-disabled-bg: #e5e7eb, // Light gray disabled background
    button-disabled: #9ca3af, // Gray disabled text
    button-download: linear-gradient(180deg, #36d1dc, #2dd4bf), // Teal gradient
    button-enabled: #1f2a44, // Dark enabled button text
    button-open-folder: linear-gradient(180deg, #fb923c, #fed7aa), // Warm orange gradient
    button-open-history: linear-gradient(180deg, #4ade80, #a7f3d0), // Green gradient
    button-openlast-video: linear-gradient(180deg, #2dd4bf, #a5f3fc), // Teal-cyan gradient
    sidebar-background: #ffffff, // Clean white sidebar
    sidebar-color: #1f2a44, // Dark text for sidebar
    sidebar-list-color: rgba(0, 0, 0, 0.06), // Subtle list background
    color-text-main: #1f2a44, // Darker main text for readability
    color-youtube: #ef4444, // Vibrant YouTube red
    color-twitch: #8b5cf6, // Consistent Twitch purple
    color-vkvideo: #3b82f6, // Brighter VK blue
    color-coub: #06b6d4, // Matching Coub cyan
    badge-size-bg: rgba(0, 0, 0, 0.04), // Subtle badge background
    badge-size-border: rgba(0, 0, 0, 0.12), // Slightly darker badge border
    color-delete: rgba(239, 68, 68, 0.2), // Softer red for delete
  ),
  midnight: (
    color-accent: #5ac8fa,
    color-bg-log: #0b0f1a,
    color-bg-main: #0e1422,
    color-bg-secondary: #0b1220e5,
    color-border: #0e1422,
    menu-item-active: linear-gradient(180deg, #0a84ff, #0054a8),
    menu-item-hover: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.35),
        rgba(255, 255, 255, 0.08)
      ),
    color-disabled: #4e5b73,
    color-highlight: #d4e6ff,
    color-history-scroll: rgba(80, 110, 145, 0.25),
    color-hover: rgba(255, 255, 255, 0.07),
    color-icon-links: #5ac8fa,
    color-progress-bar: #0a84ff,
    color-progress-bg: rgba(7, 14, 28, 0.7),
    color-quality: rgba(180, 205, 240, 0.5),
    color-toast-bg: #0d1220,
    color-toast-error: #ff453a,
    color-toast-success: #30d158,
    color-toast-text: #e6f0ff,
    color-toast-warning: #ffd60a,
    color-url-bg: rgba(10, 20, 35, 0.5),
    color-url-border: #1c3357,
    color-url-link: #58a6ff,
    color-url-text: #d6e4ff,
    button-cancel: linear-gradient(180deg, #b33434, #0d1a2b),
    button-color: #d6e4ff,
    button-default: linear-gradient(180deg, rgba(10, 132, 255, 0.6), #0d1626),
    button-disabled-bg: rgba(90, 110, 140, 0.5),
    button-disabled: #bcd1f7,
    button-download: linear-gradient(180deg, #1e5ea6, #083b79),
    button-enabled: #e6f0ff,
    button-open-folder: linear-gradient(180deg, #b04c4c, #0b1220),
    button-open-history: linear-gradient(180deg, #0a84ff, #0b1220),
    button-openlast-video: linear-gradient(180deg, #0a84ff, #0b1220),
    sidebar-background: #0b1220cc,
    sidebar-color: #e6f0ff,
    sidebar-list-color: rgba(255, 255, 255, 0.12),
    color-text-main: #e6f0ff,
    color-youtube: #ff453a,
    color-twitch: #9e60fc,
    color-vkvideo: #0a84ff,
    color-coub: #5ac8fa,
    badge-size-bg: rgba(255, 255, 255, 0.05),
    badge-size-border: rgba(255, 255, 255, 0.12),
    color-delete: rgba(255, 65, 65, 0.132),
  ),
);

// Mixin для экспорта переменных в CSS
@function theme-value($theme-name, $key) {
  @return map.get(map.get($themes, $theme-name), $key);
}
@mixin export-css-variables($theme) {
  @each $name, $value in $theme {
    --#{$name}: #{$value};
  }
}

// Определение CSS переменных в :root
:root {
  @include export-css-variables(map.get($themes, dark));
  --transition-duration: #{$transition-duration};
  --spacing-small: #{$spacing-small};
  --spacing-medium: #{$spacing-medium};
  --spacing-large: #{$spacing-large};
  --border-radius: #{$border-radius};
  --color-accent-rgb:
    #{color.channel(theme-value(dark, color-accent), "red", $space: rgb)},
    #{color.channel(theme-value(dark, color-accent), "green", $space: rgb)},
    #{color.channel(theme-value(dark, color-accent), "blue", $space: rgb)};
}

// CSS переменные для светлой темы
[data-theme="light"] {
  @include export-css-variables(map.get($themes, light));
  --color-accent-rgb:
    #{color.channel(theme-value(light, color-accent), "red", $space: rgb)},
    #{color.channel(theme-value(light, color-accent), "green", $space: rgb)},
    #{color.channel(theme-value(light, color-accent), "blue", $space: rgb)};
}

// CSS переменные для темы Midnight
[data-theme="midnight"] {
  @include export-css-variables(map.get($themes, midnight));
  --color-accent-rgb:
    #{color.channel(theme-value(midnight, color-accent), "red", $space: rgb)},
    #{color.channel(theme-value(midnight, color-accent), "green", $space: rgb)},
    #{color.channel(theme-value(midnight, color-accent), "blue", $space: rgb)};
}