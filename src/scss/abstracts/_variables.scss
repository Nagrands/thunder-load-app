@use "sass:map";
@use "sass:color";
// src/scss/abstracts/_variables.scss

// Breakpoints
$breakpoint-mobile: 668px;
$breakpoint-tablet: 1280px;

$modal-padding: 15px;
$modal-border-radius: 18px;
$modal-max-width: 600px;
$animation-duration: 0.1s;

// Spacing & Border Radius
$spacing-small: 8px;
$spacing-medium: 16px;
$spacing-large: 24px;
$border-radius: 24px;

// Transitions
$transition-duration: 0.2s;

// Color Palettes
$themes: (
  dark: (
    // Основные цвета для темного режима
    color-accent: #52aeff,
    // яркий акцент
    color-bg-log: #121212,
    // фон логов – чуть светлее абсолютного черного
    color-bg-main: #262729,
    // основной фон
    color-bg-secondary: #1f1f1de5,
    // вторичный фон
    color-border: #262729,

    menu-item-active: linear-gradient(180deg, #007aff, #005bb5),
    menu-item-hover: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.6),
        rgba(255, 255, 255, 0.1)
      ),
    // цвет границ
    color-disabled: #5a5f6b,
    // для неактивных элементов
    color-highlight: #d7d7d7,
    // подсветка
    color-history-scroll: #323842,
    // фон полосы прокрутки истории
    color-hover: #ffffff0d,
    // эффект наведения
    color-icon-links: #8a79ff,
    // иконки и ссылки
    color-progress-bar: #0a84ff,
    // полоса прогресса
    color-progress-bg: rgba(30, 34, 42, 0.7),
    // фон полосы прогресса
    color-quality: rgba(200, 200, 200, 0.4),
    // индикатор качества
    color-toast-bg: #2b2b2b,
    // фон уведомлений
    color-toast-error: #ff3b30,
    // ошибка
    color-toast-success: #32d74b,
    // успех
    color-toast-text: #ffffff,
    // текст уведомлений
    color-toast-warning: #ffcc00,
    // предупреждение
    color-url-bg: rgba(30, 33, 36, 0.4),
    // фон URL
    color-url-border: #444b5c,
    // граница URL
    color-url-link: #4dabf7,
    // ссылка в URL
    color-url-text: #c9c9c9,
    // ссылка в URL
    button-cancel: linear-gradient(180deg, #b33434, #2a2f3d),
    // кнопка "Отмена"
    button-color: #aad4ff,
    // базовый цвет кнопок
    button-default: linear-gradient(180deg, rgba(30, 144, 255, 0.62), #23262c),
    // стандартная кнопка
    button-disabled-bg: #4a4a4a80,
    // фон неактивной кнопки
    button-disabled: #dddddd,
    // текст неактивной кнопки
    button-download: linear-gradient(180deg, #3f73a7, #0f3f82),
    // кнопка "Скачать"
    button-enabled: #dddddd,
    // активная кнопка
    button-open-folder: linear-gradient(180deg, #b04c4c, #282c34),
    // кнопка открытия папки
    button-open-history: linear-gradient(180deg, #30d158, #282c34),
    // кнопка истории
    button-openlast-video: linear-gradient(180deg, #0a84ff, #282c34),
    // кнопка последнего видео
    sidebar-background: #121212cc,
    // фон сайдбара
    sidebar-color: #e0e0e0,
    // цвет текста в сайдбаре
    sidebar-list-color: #ffffff20,
    // цвет элементов списка
    color-text-main: #dedede,
    // основной текст
    color-youtube: #ce1312,
    color-twitch: #9e60fc,
    color-vkvideo: #0077ff,
    color-coub: #37a8ff,
    // Бейдж размера файла (тон зависит от темы)
    badge-size-bg: rgba(255, 255, 255, 0.06),
    badge-size-border: rgba(255, 255, 255, 0.14),
    color-delete: rgba(255, 80, 80, 0.06),
  ),
  light: (
    // Светлая тема с бирюзовым акцентом
    color-accent: #14b8a6,
    // яркий акцент (бирюзовый)
    color-bg-log: #ffffff,
    // фон логов (чистый белый)
    color-bg-main: #fefefe,
    // основной фон
    color-bg-secondary: #fafafa,
    // карточки и панели
    color-border: #e2e8f0,
    // мягкие серые границы
    color-disabled: #94a3b8,
    // для неактивных элементов
    color-highlight: #1e293b,
    // основной текст/иконки
    color-history-scroll: rgba(0, 0, 0, 0.1),
    // фон полосы прокрутки
    color-hover: rgba(20, 184, 166, 0.08),
    // эффект наведения
    color-icon-links: #14b8a6,
    // иконки и ссылки
    color-progress-bar: #14b8a6,
    color-progress-bg: rgba(0, 0, 0, 0.05),
    color-quality: #475569,
    color-toast-bg: #ffffff,
    color-toast-error: #dc2626,
    color-toast-success: #16a34a,
    color-toast-text: #1e293b,
    color-toast-warning: #f59e0b,
    color-url-bg: #ffffff,
    color-url-border: #e2e8f0,
    color-url-link: #14b8a6,
    color-url-text: #1e293b,

    button-cancel: linear-gradient(180deg, #fca5a5, #fee2e2),
    button-color: #1e293b,
    button-default: linear-gradient(180deg, #ffffff, #f1f5f9),
    button-disabled-bg: #e2e8f0,
    button-disabled: #94a3b8,
    button-download: linear-gradient(180deg, #2dd4bf, #14b8a6),
    button-enabled: #1e293b,
    button-open-folder: linear-gradient(180deg, #fca5a5, #fee2e2),
    button-open-history: linear-gradient(180deg, #a5f3fc, #e0f2fe),
    button-openlast-video: linear-gradient(180deg, #a5f3fc, #e0f2fe),
    sidebar-background: #ffffffcc,
    sidebar-color: #1e293b,
    sidebar-list-color: rgba(0, 0, 0, 0.04),
    color-text-main: #1e293b,
    color-youtube: #dc2626,
    color-twitch: #8b5cf6,
    color-vkvideo: #2563eb,
    color-coub: #06b6d4,

    badge-size-bg: rgba(0, 0, 0, 0.03),
    badge-size-border: rgba(0, 0, 0, 0.1),
    color-delete: rgba(220, 38, 38, 0.16),
  ),

  midnight: (
    // Глубокая тёмно‑синяя тема
    color-accent: #5ac8fa,
    color-bg-log: #0b0f1a,
    color-bg-main: #0e1422,
    color-bg-secondary: #0b1220e5,
    color-border: #0e1422,

    menu-item-active: linear-gradient(180deg, #0a84ff, #0054a8),
    menu-item-hover: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.35),
        rgba(255, 255, 255, 0.08)
      ),
    color-disabled: #4e5b73,
    color-highlight: #d4e6ff,
    color-history-scroll: rgba(80, 110, 145, 0.25),
    color-hover: rgba(255, 255, 255, 0.07),
    color-icon-links: #5ac8fa,
    color-progress-bar: #0a84ff,
    color-progress-bg: rgba(7, 14, 28, 0.7),
    color-quality: rgba(180, 205, 240, 0.5),
    color-toast-bg: #0d1220,
    color-toast-error: #ff453a,
    color-toast-success: #30d158,
    color-toast-text: #e6f0ff,
    color-toast-warning: #ffd60a,
    color-url-bg: rgba(10, 20, 35, 0.5),
    color-url-border: #1c3357,
    color-url-link: #58a6ff,
    color-url-text: #d6e4ff,

    button-cancel: linear-gradient(180deg, #b33434, #0d1a2b),
    button-color: #d6e4ff,
    button-default: linear-gradient(180deg, rgba(10, 132, 255, 0.6), #0d1626),
    button-disabled-bg: rgba(90, 110, 140, 0.5),
    button-disabled: #bcd1f7,
    button-download: linear-gradient(180deg, #1e5ea6, #083b79),
    button-enabled: #e6f0ff,
    button-open-folder: linear-gradient(180deg, #b04c4c, #0b1220),
    button-open-history: linear-gradient(180deg, #0a84ff, #0b1220),
    button-openlast-video: linear-gradient(180deg, #0a84ff, #0b1220),
    sidebar-background: #0b1220cc,
    sidebar-color: #e6f0ff,
    sidebar-list-color: rgba(255, 255, 255, 0.12),
    color-text-main: #e6f0ff,
    color-youtube: #ff453a,
    color-twitch: #9e60fc,
    color-vkvideo: #0a84ff,
    color-coub: #5ac8fa,
    // Бейдж размера файла (тон зависит от темы)
    badge-size-bg: rgba(255, 255, 255, 0.05),
    badge-size-border: rgba(255, 255, 255, 0.12),
    color-delete: rgba(255, 65, 65, 0.132),
  ),
);

// Mixin для экспорта переменных в CSS
@function theme-value($theme-name, $key) {
  @return map.get(map.get($themes, $theme-name), $key);
}
@mixin export-css-variables($theme) {
  @each $name, $value in $theme {
    --#{$name}: #{$value};
  }
}

// Определение CSS переменных в :root
:root {
  @include export-css-variables(map.get($themes, dark));
  --transition-duration: #{$transition-duration};
  --spacing-small: #{$spacing-small};
  --spacing-medium: #{$spacing-medium};
  --spacing-large: #{$spacing-large};
  --border-radius: #{$border-radius};
  // Derived RGB channels for effects using rgba(var(--color-accent-rgb), ...)
  --color-accent-rgb:
    #{color.channel(theme-value(dark, color-accent), "red", $space: rgb)},
    #{color.channel(theme-value(dark, color-accent), "green", $space: rgb)},
    #{color.channel(theme-value(dark, color-accent), "blue", $space: rgb)};
}

// CSS переменные для светлой темы
[data-theme="light"] {
  @include export-css-variables(map.get($themes, light));
  --color-accent-rgb:
    #{color.channel(theme-value(light, color-accent), "red", $space: rgb)},
    #{color.channel(theme-value(light, color-accent), "green", $space: rgb)},
    #{color.channel(theme-value(light, color-accent), "blue", $space: rgb)};
}

// CSS переменные для темы Midnight
[data-theme="midnight"] {
  @include export-css-variables(map.get($themes, midnight));
  --color-accent-rgb:
    #{color.channel(theme-value(midnight, color-accent), "red", $space: rgb)},
    #{color.channel(theme-value(midnight, color-accent), "green", $space: rgb)},
    #{color.channel(theme-value(midnight, color-accent), "blue", $space: rgb)};
}
